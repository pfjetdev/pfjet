# –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö Jet Sharing

## üéØ –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ Jet Sharing –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **3 —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã**:

1. **Dynamic** (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - –†–µ–π—Å—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
2. **Static** - –¢–æ–ª—å–∫–æ —Ä–µ–π—Å—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
3. **Hybrid** - –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –æ–±–æ–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:

```bash
# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: dynamic | static | hybrid
NEXT_PUBLIC_JET_SHARING_MODE=dynamic
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∫–æ–¥–µ

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/config/jetSharing.ts`:

```typescript
export const jetSharingConfig = {
  mode: 'dynamic', // –∏–ª–∏ 'static' –∏–ª–∏ 'hybrid'
  defaultLimit: 100, // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–π—Å–æ–≤
  revalidate: 3600, // –∏–Ω—Ç–µ—Ä–≤–∞–ª —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏–∏ (—Å–µ–∫—É–Ω–¥—ã)
  dynamic: {
    count: 50, // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö —Ä–µ–π—Å–æ–≤
    daysAhead: 14, // –Ω–∞ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –≤–ø–µ—Ä–µ–¥
    featuredChance: 0.15, // —à–∞–Ω—Å featured —Ä–µ–π—Å–∞
  },
}
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Dynamic | Static | Hybrid |
|----------------|---------|--------|--------|
| **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö** | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | –û–±–∞ |
| **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ** | –ö–∞–∂–¥—ã–π –¥–µ–Ω—å | –í—Ä—É—á–Ω—É—é | –û–±–∞ |
| **–ü–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∞** | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | –¢—Ä–µ–±—É–µ—Ç—Å—è | –¢—Ä–µ–±—É–µ—Ç—Å—è |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | ‚ö° –ë—ã—Å—Ç—Ä–æ | üêå –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –ë–î | ‚ö° –°—Ä–µ–¥–Ω–µ |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ | ‚úÖ –•–æ—Ä–æ—à–æ |

## üöÄ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### 1. Dynamic Mode (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –†–µ–π—Å—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ seed (–¥–∞—Ç–∞)
- –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –Ω–æ–≤—ã–µ —Ä–µ–π—Å—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç 20 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Ü–µ–Ω –∏ –≤—Ä–µ–º–µ–Ω–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–π—Å–æ–≤
- ‚úÖ –í—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ü–µ–Ω—ã –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –ù–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö ID —Ä–µ–π—Å–æ–≤
- ‚ùå –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ —Ä–µ–π—Å–æ–≤

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–µ–º–æ/–ø—Ä–æ—Ç–æ—Ç–∏–ø
- MVP
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**

```bash
# .env.local
NEXT_PUBLIC_JET_SHARING_MODE=dynamic
```

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:**
```typescript
// US Routes
{ from: 'New York', to: 'Miami' }
{ from: 'Los Angeles', to: 'Las Vegas' }
{ from: 'San Francisco', to: 'Los Angeles' }

// European Routes
{ from: 'London', to: 'Paris' }
{ from: 'Paris', to: 'Nice' }
{ from: 'Geneva', to: 'Paris' }

// International
{ from: 'Dubai', to: 'London' }
{ from: 'Tokyo', to: 'Singapore' }
```

### 2. Static Mode

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –†–µ–π—Å—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Supabase
- –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ ID —Ä–µ–π—Å–æ–≤
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Ä–µ–π—Å–æ–≤
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚ùå –ù—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- Production —Å —Å–∏—Å—Ç–µ–º–æ–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è —Ä–µ–π—Å–æ–≤
- –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**

```bash
# .env.local
NEXT_PUBLIC_JET_SHARING_MODE=static
```

**–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**

```bash
# 1. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ scripts/supabase-jet-sharing-schema.sql

# 2. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
npx tsx scripts/migrateJetSharingToSupabase.ts
```

### 3. Hybrid Mode

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- 30% —Ä–µ–π—Å–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ)
- 70% –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
- –õ—É—á—à–µ–µ –∏–∑ –æ–±–æ–∏—Ö –º–∏—Ä–æ–≤

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–µ–π—Å—ã + —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚ö†Ô∏è –ù—É–∂–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- Production —Å –±–æ–ª—å—à–∏–º —Ç—Ä–∞—Ñ–∏–∫–æ–º
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ, –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ–π—Å—ã
- –î–ª—è –ê/–í —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**

```bash
# .env.local
NEXT_PUBLIC_JET_SHARING_MODE=hybrid
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è:**

```typescript
// src/config/jetSharing.ts
hybrid: {
  staticRatio: 0.3,  // 30% —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö
  dynamicRatio: 0.7, // 70% –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö
}
```

## üîß API –§—É–Ω–∫—Ü–∏–∏

### getAllJetSharingFlights()

```typescript
import { getAllJetSharingFlights } from '@/lib/jetSharingGenerator'

// –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–π—Å—ã –≤ —Ç–µ–∫—É—â–µ–º —Ä–µ–∂–∏–º–µ (–∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞)
const flights = await getAllJetSharingFlights(100)

// –Ø–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–µ–∂–∏–º
const dynamicFlights = await getAllJetSharingFlights(100, 'dynamic')
const staticFlights = await getAllJetSharingFlights(100, 'static')
const hybridFlights = await getAllJetSharingFlights(100, 'hybrid')
```

### getJetSharingFlightById()

```typescript
import { getJetSharingFlightById } from '@/lib/jetSharingGenerator'

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –ø–æ ID
// UUID = static, js-{seed}-{index} = dynamic
const flight = await getJetSharingFlightById(id)
```

## üé≤ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

### –ê–ª–≥–æ—Ä–∏—Ç–º

1. **Seed Generation**
   ```typescript
   // Seed = YYYYMMDD (–Ω–∞–ø—Ä–∏–º–µ—Ä: 20250122)
   const seed = year * 10000 + month * 100 + day
   ```

2. **Seeded Random**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Linear Congruential Generator
   - –û–¥–∏–Ω–∞–∫–æ–≤—ã–π seed = –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–µ–π—Å—ã
   - –ú–µ–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ –ø–æ–ª–Ω–æ—á—å

3. **–ú–∞—Ä—à—Ä—É—Ç—ã**
   - 20 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
   - –°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ seed

4. **–†–∞—Å—á–µ—Ç —Ü–µ–Ω**
   ```typescript
   pricePerSeat = basePrice + (distance √ó ratePerMile) ¬± 15%
   ```

5. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Å—Ç**
   - totalSeats –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–∞–º–æ–ª–µ—Ç–∞
   - availableSeats = 20-80% –æ—Ç totalSeats

6. **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ**
   - –í—ã–ª–µ—Ç—ã: 6:00 - 20:00
   - –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã: 0, 15, 30, 45 –º–∏–Ω—É—Ç
   - –î–∞—Ç—ã: —Å–ª–µ–¥—É—é—â–∏–µ 14 –¥–Ω–µ–π

### –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ ID ‚ú®

**–í–∞–∂–Ω–æ!** ID –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–µ–π—Å–∞, –∞ –Ω–µ –∏–Ω–¥–µ–∫—Å–∞:

```typescript
// ID = hash(from + to + date + time)
function createDeterministicFlightId(from, to, date, time) {
  const key = `${from}-${to}-${date}-${time}`
  const hash = cyrb53(key) // Fast 53-bit hash
  return `js-${hash.toString(36)}`
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ä–µ–π—Å = –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ ID
- ‚úÖ –°—Å—ã–ª–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ –ú–æ–∂–Ω–æ —à–∞—Ä–∏—Ç—å —Å—Å—ã–ª–∫–∏
- ‚úÖ ID —É–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç+–≤—Ä–µ–º—è

### –ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

```typescript
// –°–µ–≥–æ–¥–Ω—è: 22 —è–Ω–≤–∞—Ä—è 2025
// Seed: 20250122

// –†–µ–π—Å 1: New York ‚Üí Miami, 25 Jan, 09:00
{
  id: 'js-2k8fh3l9x',  // –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π hash
  from: 'New York',
  to: 'Miami',
  departureDate: '2025-01-25',
  departureTime: '09:00',
  pricePerSeat: 2200,
  totalSeats: 6,
  availableSeats: 3,
}

// –†–µ–π—Å 2: London ‚Üí Paris, 27 Jan, 11:00
{
  id: 'js-9a4mz2p1c',  // –î—Ä—É–≥–æ–π hash –¥–ª—è –¥—Ä—É–≥–æ–≥–æ —Ä–µ–π—Å–∞
  from: 'London',
  to: 'Paris',
  departureDate: '2025-01-27',
  departureTime: '11:00',
  pricePerSeat: 1500,
  totalSeats: 7,
  availableSeats: 2,
}

// –ï—Å–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–π—Å—ã —Å–Ω–æ–≤–∞:
// New York ‚Üí Miami, 25 Jan, 09:00
// ID –±—É–¥–µ—Ç —Å–Ω–æ–≤–∞ 'js-2k8fh3l9x' ‚úÖ
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –°—Ç–∞—Ç—É—Å—ã —Ä–µ–π—Å–æ–≤

–†–µ–π—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è:

```typescript
// –£–¥–∞–ª—è—é—Ç—Å—è —Ä–µ–π—Å—ã –≥–¥–µ:
// 1. departure_date < today
// 2. departure_date = today –ò departure_time < now
```

### –¢—Ä–∏–≥–≥–µ—Ä—ã (—Ç–æ–ª—å–∫–æ Static/Hybrid)

```sql
-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç status –Ω–∞ 'full' –∫–æ–≥–¥–∞ available_seats = 0
CREATE TRIGGER auto_update_flight_status
BEFORE UPDATE OF available_seats ON jet_sharing_flights
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞

```typescript
import { getJetSharingMode, isDynamicMode } from '@/config/jetSharing'

const mode = getJetSharingMode() // 'dynamic' | 'static' | 'hybrid'
const isDynamic = isDynamicMode() // true/false
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å:

```typescript
console.error('Error in getAllJetSharingFlights:', error)
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
NEXT_PUBLIC_JET_SHARING_MODE=dynamic
```
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- –ù–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
- –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–ª—è staging
```bash
NEXT_PUBLIC_JET_SHARING_MODE=hybrid
```
- –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤

### –î–ª—è production
```bash
NEXT_PUBLIC_JET_SHARING_MODE=static
# –ò–õ–ò
NEXT_PUBLIC_JET_SHARING_MODE=hybrid
```
- Static: –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- Hybrid: –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –±–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä —Ä–µ–π—Å–æ–≤

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ä–µ–π—Å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥—Ä—É–≥–æ–π —Ä–µ–π—Å ‚ùå

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º–∞ —Å ID (—É—Å—Ç–∞—Ä–µ–ª–æ –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏)

**–†–µ—à–µ–Ω–∏–µ:**
‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û!** –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ ID –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–µ–π—Å–∞.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ ID
npx tsx scripts/testDeterministicIds.ts
```

–ï—Å–ª–∏ —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç, ID —Å—Ç–∞–±–∏–ª—å–Ω—ã –∏ –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞.

### –ü—Ä–æ–±–ª–µ–º–∞: –†–µ–π—Å—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è (Dynamic)

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `src/config/jetSharing.ts`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `mode = 'dynamic'`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–µ–π—Å—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π seed

**–†–µ—à–µ–Ω–∏–µ:**
- Seed –º–µ–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª–Ω–æ—á—å UTC
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è
- –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ seed –≤—Ä—É—á–Ω—É—é –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –†–µ–π—Å—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è (Dynamic)

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** Dynamic —Ä–µ–∂–∏–º –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–π—Å—ã.

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `static` –∏–ª–∏ `hybrid` —Ä–µ–∂–∏–º
- –ò–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –≤ localStorage –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –î—É–±–ª–∏–∫–∞—Ç—ã ID

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–ª–ª–∏–∑–∏—è —Ö–µ—à–µ–π (–æ—á–µ–Ω—å —Ä–µ–¥–∫–æ)

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// Hash —Ñ—É–Ω–∫—Ü–∏—è cyrb53 –¥–∞–µ—Ç 53-bit hash
// –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏: ~1 –Ω–∞ 9 –∫–≤–∞–¥—Ä–∏–ª–ª–∏–æ–Ω–æ–≤
// –î–ª—è 1000 —Ä–µ–π—Å–æ–≤: –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
```

–ï—Å–ª–∏ –≤—Å–µ –∂–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–µ–π—Å–æ–≤ —Ä–∞–∑–Ω—ã–µ
2. –ò–∑–º–µ–Ω–∏—Ç–µ hash —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω—É—é

## üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

```typescript
// src/lib/jetSharingDynamicGenerator.ts
const POPULAR_ROUTES = [
  // –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
  { from: 'Berlin', to: 'Vienna', category: 'Light' },
  { from: 'Rome', to: 'Milan', category: 'Very Light' },
]
```

### –ò–∑–º–µ–Ω–∏—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

```typescript
// src/lib/jetSharingDynamicGenerator.ts
function calculatePricePerSeat(distance, category, random) {
  // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
  return customPrice
}
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–π seed

```typescript
// –í–º–µ—Å—Ç–æ –¥–∞—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π seed
function getCustomSeed(): number {
  return yourCustomSeed
}
```

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –¢–æ–ª—å–∫–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ä–µ–π—Å—ã

```typescript
// app/jet-sharing/page.tsx
const flights = await getAllJetSharingFlights(100, 'dynamic')
```

### –ü—Ä–∏–º–µ—Ä 2: –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ static –Ω–∞ dynamic

```bash
# 1. –ò–∑–º–µ–Ω–∏—Ç–µ —Ä–µ–∂–∏–º
NEXT_PUBLIC_JET_SHARING_MODE=dynamic

# 2. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
```

### –ü—Ä–∏–º–µ—Ä 3: A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```typescript
// –°–ª—É—á–∞–π–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
const mode = Math.random() > 0.5 ? 'dynamic' : 'static'
const flights = await getAllJetSharingFlights(100, mode)
```

## üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**Dynamic —Ä–µ–∂–∏–º** –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è:
- MVP –∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
- –ö–æ–≥–¥–∞ –ù–ï –Ω—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

**Static —Ä–µ–∂–∏–º** –Ω—É–∂–µ–Ω –¥–ª—è:
- Production —Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏

**Hybrid —Ä–µ–∂–∏–º** - —ç—Ç–æ:
- –õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è production
- –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –≥–∏–±–∫–æ—Å—Ç—å—é –∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

–í—ã–±–∏—Ä–∞–π—Ç–µ —Ä–µ–∂–∏–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π! üöÄ
